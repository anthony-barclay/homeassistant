type: custom:auto-entities
card:
  type: entities
  show_header_toggle: false
  state_color: true
  card_mod:
    style:
      .: |
        ha-card: {
          --ha-card-background: none;
          box-shadow: none;
        }
        .card-content {
          padding-top: 0px !important;
          padding-bottom: 0px !important;
        }
      hui-toggle-entity-row:
        $: |
          hui-generic-entity-row {
            height: 25px;
          }
show_empty: false
filter:
  template: |
    {%- set outlets = states.switch | selectattr('attributes.device_class', 'eq', 'outlet') | list -%}
    {%- set outlets = outlets + [ states.switch.x1_carbon_power ] -%}
    {% for entity in outlets  | selectattr('state','eq','on') %}
      {{ entity.entity_id }}
    {% endfor %}
sort:
  method: friendly_name
